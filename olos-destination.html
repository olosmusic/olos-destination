<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-slider/paper-slider.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-dropdown/paper-dropdown.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../core-menu/core-menu.html">

<link rel="import" href="../core-icons/core-icons.html">
<link rel="import" href="../core-icons/av-icons.html">

<!--
olos-destination
##### Example


@element olos-destination
@blurb 
@status alpha
@homepage 
-->
<polymer-element name="olos-destination" attributes="input width height color src showControls play rootfolder">
  <template>
      <link rel="stylesheet" href="olos-destination.css"></link>

      <div id="container">
        <core-icon icon="av:volume-up" style="width: 48px; height: 48px; display:block; margin-left:auto; margin-right:auto "></core-icon>
      </div>

  </template>
  <script>
    (function(params){

      Polymer('olos-destination', {

        volume: 0.5,
        on: false,
        color: '#00CCFF',
        width: 300,
        height: 300,
        rootfolder: '../olos-destination/',

        // handle i/o
        input: null,
        output: null,

        ready: function() {
          var self = this;
          self._audioContext = audioContext;

          // for now, both L + R are the same
          self.input = self.output = self._audioContext.createGain();
          self.input.connect(self._audioContext.destination);
        },

        _toggleStart: function() {
          if(!this.on) {
            this.input.connect(this._audioContext.destination);
          }
          else {
            this.input.disconnect();
          }
          this.on = !this.on;
        },

        _init: function() {
        }

        // publicAudio: function() {
        //   this.output.gain.value = 1.0;
        // }

      });

    })();

  </script>

</polymer-element>
